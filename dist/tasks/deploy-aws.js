'use strict';

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _gulp = require('gulp');

var _gulp2 = _interopRequireDefault(_gulp);

var _gulpAwspublish = require('gulp-awspublish');

var _gulpAwspublish2 = _interopRequireDefault(_gulpAwspublish);

var _config = require('../config');

var _config2 = _interopRequireDefault(_config);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_gulp2.default.task('deploy-aws', () => {
  const publisher = _gulpAwspublish2.default.create(_config2.default.awspublish);
  const headers = {};

  return _gulp2.default.src(_path2.default.join(_config2.default.paths.dst, '**/*')).pipe(_gulpAwspublish2.default.gzip({ ext: '.gz' })).pipe(publisher.publish(headers)).pipe(publisher.cache()).pipe(_gulpAwspublish2.default.reporter());
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90YXNrcy9kZXBsb3ktYXdzLmpzIl0sIm5hbWVzIjpbImd1bHAiLCJ0YXNrIiwicHVibGlzaGVyIiwiYXdzcHVibGlzaCIsImNyZWF0ZSIsImNvbmZpZyIsImhlYWRlcnMiLCJzcmMiLCJwYXRoIiwiam9pbiIsInBhdGhzIiwiZHN0IiwicGlwZSIsImd6aXAiLCJleHQiLCJwdWJsaXNoIiwiY2FjaGUiLCJyZXBvcnRlciJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUFBLGVBQUtDLElBQUwsQ0FBVSxZQUFWLEVBQXdCLE1BQU07QUFDNUIsUUFBTUMsWUFBWUMseUJBQVdDLE1BQVgsQ0FBa0JDLGlCQUFPRixVQUF6QixDQUFsQjtBQUNBLFFBQU1HLFVBQVUsRUFBaEI7O0FBRUEsU0FBT04sZUFDSk8sR0FESSxDQUNBQyxlQUFLQyxJQUFMLENBQVVKLGlCQUFPSyxLQUFQLENBQWFDLEdBQXZCLEVBQTRCLE1BQTVCLENBREEsRUFFSkMsSUFGSSxDQUVDVCx5QkFBV1UsSUFBWCxDQUFnQixFQUFFQyxLQUFLLEtBQVAsRUFBaEIsQ0FGRCxFQUdKRixJQUhJLENBR0NWLFVBQVVhLE9BQVYsQ0FBa0JULE9BQWxCLENBSEQsRUFJSk0sSUFKSSxDQUlDVixVQUFVYyxLQUFWLEVBSkQsRUFLSkosSUFMSSxDQUtDVCx5QkFBV2MsUUFBWCxFQUxELENBQVA7QUFNRCxDQVZEIiwiZmlsZSI6ImRlcGxveS1hd3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGd1bHAgZnJvbSAnZ3VscCdcbmltcG9ydCBhd3NwdWJsaXNoIGZyb20gJ2d1bHAtYXdzcHVibGlzaCdcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJ1xuXG5ndWxwLnRhc2soJ2RlcGxveS1hd3MnLCAoKSA9PiB7XG4gIGNvbnN0IHB1Ymxpc2hlciA9IGF3c3B1Ymxpc2guY3JlYXRlKGNvbmZpZy5hd3NwdWJsaXNoKVxuICBjb25zdCBoZWFkZXJzID0ge31cblxuICByZXR1cm4gZ3VscFxuICAgIC5zcmMocGF0aC5qb2luKGNvbmZpZy5wYXRocy5kc3QsICcqKi8qJykpXG4gICAgLnBpcGUoYXdzcHVibGlzaC5nemlwKHsgZXh0OiAnLmd6JyB9KSlcbiAgICAucGlwZShwdWJsaXNoZXIucHVibGlzaChoZWFkZXJzKSlcbiAgICAucGlwZShwdWJsaXNoZXIuY2FjaGUoKSlcbiAgICAucGlwZShhd3NwdWJsaXNoLnJlcG9ydGVyKCkpXG59KVxuIl19